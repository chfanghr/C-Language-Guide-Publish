# Chapter27 条件编译

&emsp;&emsp;预处理程序提供了条件编译的功能,可以按不同的条件去编译不同的程序部分,因而产生不同 的目标代码文件,这对于程序的移植和调试是很有用的.条件编译可分为三种形式.第一种形式如下:
```C 
#ifdef 标识符 
程序段 1 
#else 
程序段 2 
#endif 
```
&emsp;&emsp;它的功能是如果标识符已被 #define 命令定义过则对程序段 1 进行编译;否则对程序段 2 进行编译.如果没有程序段 2(为空),本格式中的#else 可以没有,即可以写为: 
```C
#ifdef 标识符 
程序段 
#endif 
```

&emsp;&emsp;第二种形式如下: 
```C
#ifndef 标识符 
程序段 1 #else 
程序段 2 #endif 
```
&emsp;&emsp;与第一种形式的区别是将`ifdef`改为`ifndef`.它的功能是如果标识符未被`#define`命令定义过则对程 序段 1 进行编译,否则对程序段 2 进行编译.这与第一种形式的功能正好相反. 

第三种形式如下:
```C 
#if 常量表达式 
程序段 1 #else 
程序段 2 #endif 
```
&emsp;&emsp;它的功能是如果常量表达式的值为真(非 0),则对程序段 1 进行编译,否则对程序段 2 进行编译.因此可以使程序在不同的条件下完成不同的功能.